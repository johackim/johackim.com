{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><blockquote class=\"callout info\">\n                    \n                        <div class=\"callout-title\">\n                            <div class=\"callout-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg></div>\n                            <div class=\"callout-title-inner\">Contenu archivé</div>\n                        </div>\n                    \n                    <div class=\"callout-content\">\n                        <p>Cet article n&#x27;est plus maintenu.</p>\n                    </div>\n                </blockquote><h2>Initialiser un bot</h2><p>Pour initialiser un projet avec <a class=\"\" target=\"_blank\" href=\"https://github.com/RasaHQ/rasa\">Rasa</a>, exécutez la commande <a class=\"\" target=\"_blank\" href=\"https://docker.com\">Docker</a> suivante :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker run -it -u 1000 -v ${PWD}:/app rasa/rasa:2.8.0-full init --no-prompt\n</code></pre></div><h2>Essayer de parler avec un bot</h2><p>Pour essayer un bot, exécutez la commande suivante :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker run -it -u 1000 -v ${PWD}:/app rasa/rasa:2.8.0-full shell\n</code></pre></div><p>Vous pouvez à présent parler avec votre bot, essayez de d&#x27;écrire un texte (ex: &quot;Hello !&quot;) et il vous répondra.</p><p>Si vous voulez redémarrer ou stopper le bot, voici les commandes à executer :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">/restart\n/stop\n</code></pre></div><h2>Entrainer votre bot</h2><p>Il existe une commande pour entrainer un bot :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker run -it -u 1000 -v ${PWD}:/app rasa/rasa:2.8.0-full train\n</code></pre></div><h2>Tester le bot</h2><p>Dans un projet Rasa, il existe un dossier <code>test</code>, avec des fichier yaml (ex: <code>test_stories.yml</code>).</p><p>Ces fichiers, permettent de tester notre bot de manière automatique pour vérifier si il répond correctement selon la configuration qu&#x27;on lui a renseigné.</p><p>Exéctuez la commande suivante pour tester votre bot :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker run -it -u 1000 -v ${PWD}:/app rasa/rasa:2.8.0-full test\n</code></pre></div><p>Si jamais un test échoue, vous pouvez avoir plus de détails via le fichier <code>results/failed_test_stories.yml</code>.</p><h2>Démarrer votre bot</h2><p>Pour démarrer votre bot :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker run -u 1000 -p 5005:5005 -v ${PWD}:/app rasa/rasa:2.8.0-full run\n</code></pre></div><h2>Configurer le bot</h2><p>Les 3 fichiers les plus importants pour configurer un bot sont les suivants :</p><ul>\n<li><code>data/nlu.yml</code></li>\n</ul><p>Ce fichier contient la liste de tous les languages (NLU) que le bot analysera pour selectionner une action correspondante à chaque message qu&#x27;il recevra.</p><ul>\n<li><code>data/stories.yml</code></li>\n</ul><p>Ce fichier contient tous les différents chemins qu&#x27;un utilisateur peut emprunter pour parler au bot.</p><ul>\n<li><code>domain.yml</code></li>\n</ul><p>Ce fichier contient toutes les réponses que le bot peut envoyer à un utilisateur.</p><ul>\n<li><code>actions/actions.py</code></li>\n</ul><h2>Configurer le bot pour qu&#x27;il dise &quot;bonjour&quot;</h2><p>Pour que notre bot dise bonjour il faut configurer 3 fichiers :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># data/nlu.yml\n\nnlu:\n  - intent: hello\n    examples: |\n      - bonjour\n      - salut\n      - hello\n      - hey\n      - yo\n      - coucou\n      - comment tu vas ?\n      - Salutations ! Je suis Buzz L&#x27;éclair et je viens en paix !\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># data/stories.yml\n\nstories:\n  - story: hello\n    steps:\n      - intent: hello\n      - action: utter_hello\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># domain.yml\n\nintents:\n  - hello\n\nresponses:\n  utter_hello:\n    - text: &quot;Bonjour, que puis-je pour vous ?&quot;\n</code></pre></div><h2>Configurer le bot pour qu&#x27;il vérifie la disponibilité d&#x27;un site internet</h2><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># endpoints.yml\n\naction_endpoint:\n  url: http://localhost:5055/webhook\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># data/nlu.yml\n\nversion: &quot;2.0&quot;\n\nnlu:\n  - intent: check_website\n    examples: |\n      - j&#x27;aimerai vérifier la disponibilité de mon site\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># data/rules.yml\n\nversion: &quot;2.0&quot;\n\nrules:\n  - rule: activate check_website form\n    steps:\n      - intent: check_website\n      - action: check_website_form\n      - active_loop: check_website_form\n\n  - rule: submit check_website_form\n    condition:\n      - active_loop: check_website_form\n    steps:\n      - action: check_website_form\n      - active_loop: null\n      - action: action_hello_world\n      - action: utter_website_tested\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\"># domain.yml\n\nresponses:\n  utter_ask_website:\n    - text: &quot;Pouvez-vous me rappeler le nom de domaine de votre application ? (ex: mondomaine.fr)&quot;\n\nforms:\n  domain_form:\n    required_slots:\n      domain:\n        - type: from_text\n\nactions:\n  - action_check_domain\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-python\"># actions/actions.py\n\nimport requests\nfrom typing import Any, Text, Dict, List\n\nfrom rasa_sdk import Action, Tracker\nfrom rasa_sdk.executor import CollectingDispatcher\n\ndef check_website(domain):\n    try:\n        url = &quot;https://%s&quot; % domain\n        r = requests.get(url)\n\n        if r.status_code == 200:\n            return True\n\n        return False\n    except Exception as e:\n        return False\n\nclass ActionCheckDomain(Action):\n\n   def name(self) -&gt; Text:\n       return &quot;action_check_domain&quot;\n\n   def run(self, dispatcher: CollectingDispatcher,\n           tracker: Tracker,\n           domain: Dict[Text, Any]) -&gt; List[Dict[Text, Any]]:\n\n       if check_website(tracker.get_slot(&quot;domain&quot;)):\n           dispatcher.utter_message(text=&quot;Domain good&quot;)\n       else:\n           dispatcher.utter_message(text=&quot;Domain bad&quot;)\n\n       return []\n</code></pre></div></div>","isIndex":false,"file":"Rasa.md","fileName":"Rasa","title":"Comment créer un chatbot open-source avec Rasa ?","comments":true,"permalink":"creer-un-chatbot-avec-rasa","aliases":"[Comment créer un chatbot avec Rasa ?]","datePublished":"2021-07-25T19:49","dateUpdated":"2021-07-25T19:49","publish":true,"rss":true,"note":"76"},"__N_SSG":true}