{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Après avoir <a class=\"\" href=\"/initialiser-un-projet-gatsby\">Initialiser un projet Gatsby</a>, créez un dossier <code>content</code> qui va contenir toutes vos notes au format markdown (ex: <code>content/hello-world.md</code>).</p>\n<p><strong>NOTE</strong> : Vous pouvez ouvrir se dossier avec Obsidian ou n&#x27;importe quel éditeur de fichier markdown pour éditer vos notes.</p><p>Installez et configurez le package <code>gatsby-source-filesystem</code> &amp; <code>gatsby-transformer-remark</code> pour pouvoir detecter les fichiers markdown de votre dossier <code>content</code> dans Gatsby  :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">yarn add -D gatsby-source-filesystem gatsby-transformer-remark\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-javascript\">// gatsby-config.js\n\nmodule.exports = {\n    plugins: [\n        {\n            resolve: &#x27;gatsby-source-filesystem&#x27;,\n            options: {\n                path: &#x27;./content&#x27;,\n            },\n        },\n        {\n            resolve: &#x27;gatsby-transformer-remark&#x27;,\n        },\n    ],\n};\n</code></pre></div><p>Créez le fichier <code>gatsby-node.js</code> avec la configuration si dessous pour pouvoir créer des pages pour chacune de vos notes markdown :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-js\">// gatsby-node.js\n\nexports.createPages = async ({ actions, graphql, reporter }) =&gt; {\n    const { createPage } = actions;\n\n    const result = await graphql(`\n        {\n            allMarkdownRemark {\n                edges {\n                    node {\n                        id\n                        html\n                        parent {\n                            ... on File {\n                                name\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    `);\n\n    if (result.errors) {\n        reporter.panicOnBuild(&#x27;Error while running GraphQL query.&#x27;);\n        return;\n    }\n\n    const markdowns = result.data.allMarkdownRemark.edges;\n\n    const noteTemplate = require.resolve(&#x27;./src/templates/noteTemplate.js&#x27;);\n\n    markdowns.forEach(({ node }) =&gt; {\n        const { id, html } = node;\n\n        createPage({\n            path: `/${node.parent.name}`,\n            component: noteTemplate,\n            context: { id, html },\n        });\n    });\n};\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-js\">// src/templates/noteTemplate.js\n\nimport React from &#x27;react&#x27;;\n\nexport default function Template({ pageContext }) {\n    const { html } = pageContext;\n\n    return &lt;div dangerouslySetInnerHTML={{ __html: html }} /&gt;;\n}\n</code></pre></div><p>Si vous avez une note <code>hello-world.md</code> dans votre dossier <code>content</code> et que vous vous rendez à l&#x27;adresse <a class=\"\" target=\"_blank\" href=\"http://localhost:8000/hello-world\">http://localhost:8000/hello-world</a>, cela devrait afficher le contenu de votre fichier markdown.</p></div>","isIndex":false,"file":"Importer ses notes markdown dans Gatsby.md","fileName":"Importer ses notes markdown dans Gatsby","title":"Importer ses notes markdown dans Gatsby","comments":true,"permalink":"importer-ses-notes-markdown-dans-gatsby","datePublished":"2021-05-31T16:00","dateUpdated":"2021-05-31T16:00","publish":true,"rss":true},"__N_SSG":true}