{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Ayant pour habitude de stocker toutes mes <a class=\"\" href=\"/notes-temporaires\">notes temporaires</a> dans l&#x27;application mobile <a class=\"\" target=\"_blank\" href=\"https://telegram.org/\">Telegram</a>, j&#x27;ai automatisé l&#x27;extraction de mes notes dans mon <a class=\"\" href=\"/obsidian\">Obsidian</a>.</p>\n<h2>Solution 1 : Exporter les notes dans un seul fichier</h2><p>La première solution est d&#x27;exécuter se script bash après avoir exporter mes messages sauvegardés au format <code>json</code> via le menu <code>Export chat history</code> de Telegram.</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">#!/bin/bash\n\nif [[ ! -f &quot;$1&quot; ]]; then\n    echo &quot;usage: telegram-to-text.sh [result.json]&quot;\n    exit 1\nfi\n\njq -r &#x27;\n    .messages[] |\n    select(.text != &quot;&quot;) |\n    {date, text: (if .text|type == &quot;array&quot; then (.text[] | select(. != &quot;&quot;) | if .|type == &quot;object&quot; then .text else . end) else .text end)} |\n    &quot;\\(.date)\\n\\(.text)\\n&quot;&#x27; &lt; &quot;$1&quot;\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">telegram-to-text.sh result.json &gt;&gt; Inbox.md\n</code></pre></div><h2>Solution 2 : Exporter les notes dans plusieurs fichiers</h2><p>La seconde solution consiste à exporter chaque note dans un dossier <code>Journal</code> qui contient toutes mes notes par date (ex: <code>2022-03-01.md</code> ou <code>2022-03-01.txt</code>).</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">#!/bin/bash\n\nif [[ ! -f &quot;$1&quot; || ! -d &quot;$2&quot; ]]; then\n    echo &quot;usage: telegram-to-text.sh [result.json] [destination folder]&quot;\n    exit 1\nfi\n\nMESSAGES=$(jq -r &#x27;.messages[] |\n    select(.text != &quot;&quot;) |\n    {\n        date: .date[0:10],\n        text: (if .text|type == &quot;array&quot; then (.text[] | select(. != &quot;&quot;) | if .|type == &quot;object&quot; then .text else . end) else .text end),\n    } | @base64&#x27; &lt; &quot;$1&quot;)\n\nfor MESSAGE in $MESSAGES; do\n     DATE=$(echo &quot;$MESSAGE&quot; | base64 --decode | jq -r &#x27;.date&#x27; )\n     TEXT=$(echo &quot;$MESSAGE&quot; | base64 --decode | jq -r &#x27;.text&#x27; )\n\n     echo &quot;$TEXT&quot; &gt;&gt; &quot;${2}/${DATE}.md&quot;\ndone\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">telegram-to-text.sh result.json Journal\n</code></pre></div><hr/><p>Références :</p><ul>\n<li>https://gist.github.com/johackim/88f6ea71811a004e72dc37e9494bb618</li>\n</ul></div>","isIndex":false,"file":"Exporter l'historique Telegram dans des fichiers textes.md","fileName":"Exporter l'historique Telegram dans des fichiers textes","title":"Exporter l'historique de ses notes Telegram dans des fichiers textes","comments":true,"permalink":"exporter-lhistorique-telegram-dans-des-fichiers-textes","datePublished":"2022-03-20T23:17","dateUpdated":"2022-03-20T23:17","publish":true,"rss":true,"note":"72"},"__N_SSG":true}