{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Pour initialiser eslint sur un projet JavaScript il existe la commande suivante :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">npm init @eslint/config@v0.4.6\nnpm pkg set scripts.lint=&quot;eslint .&quot;\n</code></pre></div><p>Personnellement j&#x27;ajoute les règles suivantes au fichier <code>.eslintrc.json</code> :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-js\">// .eslintrc.json\n&quot;rules&quot;: {\n    &quot;indent&quot;: [2, 4, { &quot;SwitchCase&quot;: 1 }],\n    &quot;max-len&quot;: [0],\n    &quot;object-curly-newline&quot;: [0],\n    &quot;import/no-extraneous-dependencies&quot;: [0],\n    &quot;import/prefer-default-export&quot;: [0],\n    &quot;react/jsx-filename-extension&quot;: [1, { &quot;extensions&quot;: [&quot;.js&quot;, &quot;.jsx&quot;] }],\n    &quot;react/jsx-props-no-spreading&quot;: [0],\n    &quot;react/jsx-indent-props&quot;: [2, 4],\n    &quot;react/jsx-indent&quot;: [2, 4],\n    &quot;react/prop-types&quot;: [0],\n    &quot;react/no-unescaped-entities&quot;: [0],\n    &quot;react/function-component-definition&quot;: [0],\n    &quot;react/react-in-jsx-scope&quot;: [0],\n    &quot;no-restricted-syntax&quot;: [0],\n    &quot;complexity&quot;: [2, 6],\n    &quot;max-depth&quot;: [2, 2]\n}\n</code></pre></div><p>Si jamais vous rencontrez une erreur <code>File ignored by default</code> pour un fichier qui se situe dans un dossier caché (ex: <code>.storybook</code>), ajoutez la ligne suivante à votre fichier <code>.eslintrc.json</code> :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">&quot;ignorePatterns&quot;: [&quot;!.storybook&quot;],\n</code></pre></div><p>Si vous souhaitez ignorer une ligne de code, ajoutez le commentaire <code>// eslint-disable-line</code>.</p><p>Et pour plusieurs lignes de code :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-js\">/* eslint-disable */\nconsole.log(&#x27;Mon code javascript&#x27;);\n/* eslint-enable */\n\n// Ou une règle particulière\n\n/* eslint-disable max-lines-per-function */\nconsole.log(&#x27;Mon code javascript&#x27;);\n/* eslint-enable */\n\n// Ou\n\n/* eslint-disable-next-line complexity */\nconsole.log(&#x27;Mon code javascript&#x27;);\n</code></pre></div><p>Si vous voulez définir des exceptions, ajoutez une ligne <code>overrides</code> :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-json\">{\n    &quot;rules&quot;: {\n        &quot;max-lines-per-function&quot;: [&quot;error&quot;, 25],\n    },\n    &quot;overrides&quot;: [\n        {\n            &quot;files&quot;: [&quot;components/**&quot;],\n            &quot;rules&quot;: {\n                &quot;max-lines-per-function&quot;: [&quot;error&quot;, 120]\n            }\n        }\n    ]\n}\n</code></pre></div><p>Rules :</p><ul>\n<li><code>&quot;off&quot;</code> or <code>0</code> - turn the rule off</li>\n<li><code>&quot;warn&quot;</code> or <code>1</code> - turn the rule on as a warning (doesn’t affect exit code)</li>\n<li><code>&quot;error&quot;</code> or <code>2</code> - turn the rule on as an error (exit code is 1 when triggered)</li>\n</ul><p>Overrides :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-json\">{\n    &quot;rules&quot;: {\n        &quot;max-lines-per-function&quot;: [2, 25]\n    },\n    &quot;overrides&quot;: [\n        {\n            &quot;files&quot;: [&quot;components/**&quot;, &quot;pages/**&quot;],\n            &quot;rules&quot;: {\n                &quot;max-lines-per-function&quot;: [2, { &quot;max&quot;: 200 }]\n            }\n        }\n    ]\n}\n</code></pre></div><p>Check disable rules :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">git grep eslint-disable\n</code></pre></div><p>Configuration pour la version 9 :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">yarn add -D eslint eslint-plugin-import eslint-plugin-react\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-js\">// eslint.config.mjs\nimport reactPlugin from &#x27;eslint-plugin-react&#x27;;\nimport importPlugin from &#x27;eslint-plugin-import&#x27;;\n\nexport default [\n    {\n        files: [&#x27;**/*.{js,jsx,mjs,cjs}&#x27;],\n        ignores: [&#x27;.next/**&#x27;, &#x27;node_modules/**&#x27;],\n        languageOptions: {\n            parserOptions: {\n                ecmaFeatures: { jsx: true },\n            },\n            globals: {\n                &#x27;window&#x27;: false,\n                &#x27;fetch&#x27;: false,\n                &#x27;setTimeout&#x27;: false,\n                &#x27;clearTimeout&#x27;: false,\n                &#x27;setInterval&#x27;: false,\n                &#x27;clearInterval&#x27;: false,\n                &#x27;process&#x27;: false,\n                &#x27;FormData&#x27;: false,\n                &#x27;global&#x27;: false,\n                &#x27;TextEncoder&#x27;: false,\n                &#x27;URL&#x27;: false,\n                &#x27;Headers&#x27;: false,\n                &#x27;cy&#x27;: false,\n                &#x27;beforeAll&#x27;: false,\n                &#x27;beforeEach&#x27;: false,\n                &#x27;expect&#x27;: false,\n                &#x27;it&#x27;: false,\n                &#x27;test&#x27;: false,\n                &#x27;console&#x27;: false,\n            },\n        },\n        plugins: {\n            react: reactPlugin,\n            import: importPlugin\n        },\n        rules: {\n            &#x27;no-undef&#x27;: &#x27;error&#x27;,\n            &#x27;no-trailing-spaces&#x27;: 2,\n            &#x27;no-unused-vars&#x27;: [&#x27;error&#x27;, { &#x27;caughtErrorsIgnorePattern&#x27;: &#x27;_&#x27; }],\n            &#x27;quotes&#x27;: [2, &#x27;single&#x27;],\n            &#x27;import/default&#x27;: 2,\n            &#x27;indent&#x27;: [2, 4, { &#x27;SwitchCase&#x27;: 1 }],\n            &#x27;react/jsx-filename-extension&#x27;: [1, { &#x27;extensions&#x27;: [&#x27;.js&#x27;, &#x27;.jsx&#x27;] }],\n            &#x27;react/jsx-indent-props&#x27;: [2, 4],\n            &#x27;react/jsx-indent&#x27;: [2, 4],\n            &#x27;react/jsx-uses-vars&#x27;: [2],\n            &#x27;complexity&#x27;: [2, 6],\n            &#x27;max-depth&#x27;: [2, 2],\n            &#x27;no-multiple-empty-lines&#x27;: [&#x27;error&#x27;, { &#x27;max&#x27;: 1 }],\n            &#x27;padded-blocks&#x27;: [&#x27;error&#x27;, &#x27;never&#x27;],\n        },\n    },\n];\n</code></pre></div><p>Problème, elsint 9 ne supporte pas le <a title=\"Note bientôt disponible\" class=\"!no-underline border-b-2 border-dotted border-cyan-700\" href=\"/soon?title=Style%20Guide\">Style Guide</a> de airbnb -&gt; https://github.com/airbnb/javascript/issues/2961</p>\n<p>Du coup il y a plein de règles dont j&#x27;ai l&#x27;habitude qui ne s&#x27;appliquent pas...</p><p>Désactiver les règles pour tout un fichier :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-js\">/* eslint-disable */\n</code></pre></div></div>","isIndex":false,"file":"Eslint.md","fileName":"Eslint","title":"Initialiser eslint sur un projet JavaScript","comments":true,"permalink":"initialiser-eslint-sur-un-projet-javascript","datePublished":"2021-06-07T20:36","dateUpdated":"2021-06-07T20:36","publish":true,"rss":true,"note":"55"},"__N_SSG":true}