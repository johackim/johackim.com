{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Pour déployer des conteneurs dans un cluster <a class=\"\" href=\"/docker-swarm\">Docker Swarm</a>, il faut créer des <strong>services Docker</strong>.</p>\n<p>Les services permettent de définir un état souhaité pour une application que Docker Swarm prendra soin de gérer tout seul.</p><p>Si un conteneur d&#x27;un service s&#x27;arrête, il sera automatiquement relancer.</p><p>Il existe deux types de services :</p><ul>\n<li>\nLes <strong>services répliqués</strong> ; vous spécifiez le nombre de réplicas que vous souhaitez, et ils seront attribués aux nœuds disponibles.\n</li>\n<li>\nLes <strong>services globaux</strong> ; un seul réplica sera attribué sur chaque noeud.\n</li>\n</ul><p>Le mode de réplication par défaut d&#x27;un service est répliqué. Pour déployer un service global, vous devez passer l&#x27;indicateur <code>--mode global</code> à la commande <code>docker service create</code>.</p><p>Pour créer un service, il suffit d&#x27;exécuter la commande suivante :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker service create -p published=2368,target=2368,mode=host ghost\n</code></pre></div><p>Vous pouvez accéder à votre application Ghost à l&#x27;adresse : http://localhost:2368</p><p>Pour mettre à jour un service :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker service update --force --image ghost:5 ghost\n</code></pre></div><p>Pour stopper un service :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">docker service scale ghost=0\n</code></pre></div></div>","isIndex":false,"file":"Service Docker.md","fileName":"Service Docker","title":"Service Docker","comments":true,"permalink":"service-docker","datePublished":"2021-05-17T17:32","dateUpdated":"2021-05-17T17:32","publish":true,"rss":true,"aliases":"","note":"61"},"__N_SSG":true}