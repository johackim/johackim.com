{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Lorsqu&#x27;un fichier est supprimé, son contenu peut rester dans le système de fichiers, à moins qu&#x27;il ne soit explicitement écrasé par un autre contenu.</p><p>Pour pallier à ce problème, il existe <a class=\"\" target=\"_blank\" href=\"https://doc.ubuntu-fr.org/shred\">shred</a>.</p><p>Shred est un utilitaire qui permet de supprimer définitivement des fichiers en écrivant des données aléatoires dessus.</p><p>Il est installé par défaut sur la plupart des distributions Linux.</p><h2>Supprimer un fichier</h2><p>Pour supprimer un fichier, il suffit de lancer la commande suivante :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">shred -v -n2 -z -u &lt;file&gt;\n</code></pre></div><h2>Supprimer un dossier</h2><p>Shred ne pas pas directement supprimer un dossier, mais combiné avec <code>find</code> cela fonctionne :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">find &lt;folder&gt; -type f -exec shred -v -n2 -z -u {} \\;\n</code></pre></div><h2>Remplir l&#x27;espace libre</h2><p>Après avoir exécuté votre commande shred, remplissez l&#x27;espace vide de votre disque dur :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">dd if=/dev/urandom of=/random bs=1M status=progress; sync; \\rm /random;\n# Ou\nwipe -r /dev/sda1\n</code></pre></div><h2>Supprimer une partition ou un disque</h2><p>Pour supprimer une partition ou un disque, il suffit de lancer la commande suivante :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">shred -v -n2 -z &lt;partition|device&gt;\n</code></pre></div><blockquote class=\"callout warning\">\n                    \n                    <div class=\"callout-content\">\n                        <p>Apparemment, à cause du Wear Leveling, la commande shred semble inefficace sur les SSD.</p>\n                    </div>\n                </blockquote><p>Détectez si votre disque dur est un SSD ou un HDD avec la commande :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">lsblk -d -o NAME,ROTA,SIZE,MODEL\n</code></pre></div><p>Vérifiez dans la colonne ROTA :</p><ul>\n<li>1 = Le disque tourne. C&#x27;est un HDD (Disque dur mécanique).</li>\n<li>0 = Le disque ne tourne pas. C&#x27;est un SSD (ou NVMe).</li>\n</ul><p>Si votre disque dur est un SSD, mieux vaut exécuter les commandes suivantes :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">blkdiscard -f &lt;device&gt;\nwipefs -a &lt;device&gt;\nnvme format --ses=1 &lt;device&gt;\n</code></pre></div><p>Si vous supprimez un serveur, réinstallez l&#x27;OS (Rebuild) avec un système différent (ex: passer de Debian à CentOS).</p><hr/><p>Références :</p><ul>\n<li>https://wiki.archlinux.org/title/Securely_wipe_disk#shred</li>\n<li>https://github.com/martijnvanbrummelen/nwipe</li>\n<li>\n<a class=\"\" href=\"/vie-privee\">Privacy</a>\n\n</li>\n</ul></div>","isIndex":false,"file":"Shred.md","fileName":"Shred","title":"Shred","comments":true,"permalink":"shred","description":"Supprimer définitivement des fichiers sur Linux","datePublished":"2021-06-27T19:19:00","dateUpdated":"2025-12-15T10:19:00","aliases":"","publish":true,"rss":true,"note":"69"},"__N_SSG":true}