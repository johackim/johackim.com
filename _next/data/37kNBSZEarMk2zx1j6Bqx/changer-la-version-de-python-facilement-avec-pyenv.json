{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Pour changer de version de Python facilement, de la même manière que nvm pour NodeJS, il existe l&#x27;outil <a class=\"\" target=\"_blank\" href=\"https://github.com/pyenv/pyenv\">pyenv</a>.</p><h2>Installation de pyenv</h2><p>Pour l&#x27;installer, exécutez les commandes suivantes en provenance de <a class=\"\" target=\"_blank\" href=\"https://github.com/pyenv/pyenv-installer\">ce dépôt Github</a> :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">curl https://pyenv.run | bash\necho &#x27;export PATH=&quot;$PATH:$HOME/.pyenv/bin&quot;&#x27; &gt;&gt; ~/.bashrc\necho &#x27;eval &quot;$(pyenv init --path)&quot;&#x27; &gt;&gt; ~/.bashrc\necho &#x27;eval &quot;$(pyenv virtualenv-init -)&quot;&#x27; &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre></div><h2>Utilisation de pyenv</h2><p>Pour installer une nouvelle version de Python :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">pyenv install -v 3.7.0\n</code></pre></div><p>Pour switcher sur cette nouvelle version :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">pyenv global 3.7.0\n</code></pre></div><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">python -V\n# Python 3.7.0\n</code></pre></div><p>Pour revenir sur la version python de notre système :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">pyenv global system\n</code></pre></div><h2>(Facultatif) Fix temporaire</h2><p>J&#x27;ai un souci avec <code>pip</code> qui me renvoie une erreur : <code>~/.pyenv/pyenv.d/exec/pip-rehash/pip: line 20: 38799 Segmentation fault (core dumped) &quot;$PYENV_COMMAND_PATH&quot; &quot;$@&quot;</code>.</p><p>Pour régler le problème je commente une ligne du fichier <code>~/.pyenv/versions/3.7.0/bin/pip3.7</code> :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-python\"># sys.argv[0] = re.sub(r&#x27;(-script\\.pyw?|\\.exe)?$&#x27;, &#x27;&#x27;, sys.argv[0])\n</code></pre></div><hr/><p>Références :</p><ul>\n<li>\n<a title=\"Note bientôt disponible\" class=\"!no-underline border-b-2 border-dotted border-cyan-700\" href=\"/soon?title=Python\">Python</a>\n\n</li>\n</ul></div>","isIndex":false,"file":"pyenv.md","fileName":"pyenv","title":"Changer la version de python facilement avec pyenv","comments":true,"permalink":"changer-la-version-de-python-facilement-avec-pyenv","datePublished":"2021-09-27T22:29","dateUpdated":"2021-09-27T22:29","publish":true,"rss":true,"note":"67"},"__N_SSG":true}