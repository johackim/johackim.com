{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Pour déployer automatiquement son code sur Github Pages, il existe les GitHub Actions.</p><p>Créez un fichier Yaml dans le dossier <code>.github/workflows/</code> à la racine de votre dépôt git (ex: <code>.github/workflows/deploy.yml</code>).</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-yaml\">name: Deploy\n\non: push\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - uses: actions/setup-node@v4\n        with:\n          node-version: 22\n\n      - name: Install packages\n        run: npm install\n\n      - name: Build\n        run: npm run build\n\n      - uses: peaceiris/actions-gh-pages@v4\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./public\n</code></pre></div><p>~~<a class=\"\" target=\"_blank\" href=\"https://github.com/settings/tokens/new\">Générer un token</a> avec à un accès au scope <code>repo</code> puis ajoutez le en tant qu&#x27;Action Secret <code>GH_TOKEN</code> dans les settings de votre dépot Github (Settings -&gt; Secrets -&gt; New repository secret).~~ (Utiliser la variable GITHUB_TOKEN autogénéré par Github à la place).</p><p>Sans oubliez de modifier les paramètres du dépôt : <code>Settings -&gt; Actions -&gt; General -&gt; Workflow permissions -&gt; Read and write permissions -&gt; Save</code>.</p><p>Déployez votre code, et il sera automatiquement déployé sur une branche <code>gh-pages</code> à chaque push sur la branche master.</p><p>Enfin, activez Github pages dans les Settings -&gt; Pages.</p><p>Pour ajouter un nom de domaine root, changez la zone de type A de votre nom de domaine avec l&#x27;une des valeurs suivantes :</p><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-txt\">185.199.108.153\n185.199.109.153\n185.199.110.153\n185.199.111.153\n</code></pre></div><blockquote class=\"callout note\">\n                    \n                        <div class=\"callout-title\">\n                            <div class=\"callout-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"18\" y1=\"2\" x2=\"22\" y2=\"6\"></line><path d=\"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z\"></path></svg></div>\n                            <div class=\"callout-title-inner\">note</div>\n                        </div>\n                    \n                    <div class=\"callout-content\">\n                        <p>Pour connaitre la liste des adresse IPs, exécutez la commande dig A your_github_username.github.io.</p>\n                    </div>\n                </blockquote><p>Ou une zone de type CNAME avec <code>your_github_username.github.io</code> si vous utilisez un sous-domaine.</p><blockquote class=\"callout important\">\n                    \n                    <div class=\"callout-content\">\n                        <p>N&#x27;oubliez pas de créer un fichier CNAME avec votre nom de domaine ou sous-domaine à l&#x27;intérieur du fichier pour que Github Page garde bien le nom de domaine lors des prochains déploiements.</p>\n                    </div>\n                </blockquote><hr/><p>Références :</p><ul>\n<li>https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site</li>\n</ul></div>","isIndex":false,"file":"Github Pages.md","fileName":"Github Pages","title":"Github Pages","comments":true,"permalink":"deployer-automatiquement-un-depot-sur-github-pages","datePublished":"2021-09-16T22:10","dateUpdated":"2021-09-16T22:10","aliases":"","publish":true,"rss":true},"__N_SSG":true}