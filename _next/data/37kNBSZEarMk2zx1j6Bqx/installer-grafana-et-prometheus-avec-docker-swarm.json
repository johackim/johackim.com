{"pageProps":{"source":"<div class=\"space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0\"><p>Pour monitorer une infrastructure, il existe Grafana et Prometheus.</p><p>Prometheus se chargera de collecter les données (CPU, RAM, DISK, etc..) des serveurs et Grafana les affichera sur un dashboard.</p><h2>Installation</h2><div class=\"relative group\"><button type=\"button\" class=\"invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none\">Copier</button><pre><code class=\"language-bash\">DOMAIN=grafana.example.com docker stack deploy -c &lt;(curl -so - https://raw.github.com/ethibox/awesome-stacks/master/stacks/monitoring.yml) monitoring\n</code></pre></div><h2>Utilisation</h2><p>Une fois installé vous pouvez vous rendre sur http://grafana.localhost avec les identifiants <code>admin:admin</code> et ajoutez prometheus <code>http://prometheus:9090/prometheus</code> en tant que Data Source.</p><p>Vous pouvez ensuite créer un dashboard pour monitorer vos serveurs (Conteneurs, CPU, RAM, stockage, etc...).</p><p>Voici <a class=\"\" target=\"_blank\" href=\"https://drive.proton.me/urls/Z1YKM1G9ZW#W8MCYJZH33f3\">mon Dashboard</a> si vous souhaitez vous en inspirer.</p><p>Il faut modifier tous les uid du fichier json avec celui de votre data source.</p><p>Et pour définir le dashboard en tant que page d&#x27;accueil, il faut l&#x27;ajouter en tant que &quot;Home Dashboard&quot; dans les paramètres de votre profil utilisateur.</p><p>Ajouter des alertes depuis l&#x27;onglet &quot;Alert rules&quot;.</p><p>Pour éviter de recevoir des notifications de manière répétitive, il faut mettre <code>1y</code> l&#x27;option &quot;Repeat Interval&quot; du menu &quot;Notification policies&quot; au lieu de <code>4h</code>.</p></div>","isIndex":false,"file":"Grafana.md","fileName":"Grafana","title":"Grafana","comments":true,"permalink":"installer-grafana-et-prometheus-avec-docker-swarm","datePublished":"2021-05-17T17:32","dateUpdated":"2021-05-17T17:32","aliases":"","publish":true,"rss":true,"note":"71"},"__N_SSG":true}