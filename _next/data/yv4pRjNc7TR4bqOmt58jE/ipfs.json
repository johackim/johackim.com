{"pageProps":{"source":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    h2: \"h2\",\n    hr: \"hr\",\n    li: \"li\",\n    p: \"p\",\n    pre: \"pre\",\n    ul: \"ul\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"IPFS est un système de fichiers interplanétaire.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"InterPlanetary File System (ou IPFS) est un protocole et un réseau peer-to-peer pour le stockage et le partage de données dans un système de fichiers distribué.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"C'est un remplacement au protocole HTTP.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Il ne sauvegarde pas 2 fois le même fichier et garde le même identifiant pour chaque fichier créé.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Installation\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Rendez-vous \", _jsx(_components.a, {\n        href: \"https://github.com/ipfs/ipfs-desktop#install\",\n        children: \"sur cette page\"\n      }), \" pour installer la version desktop.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Pour installer la version CLI :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"sudo pacman -S kubo\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Initialiser un repository local\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs init\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Envoyer un fichier\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs add <file>\\n# Ou\\nipfs add <file> --to-files /\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Afficher un fichier\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs cat <CID>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Télécharger un fichier\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs get <CID>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Voir les fichier d'un dossier\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs ls <CID>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Supprimer un fichier\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs files rm <file>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Spécifier une api\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs --api /ip4/127.0.0.1/tcp/5001 <command>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Envoyer du texte\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"echo \\\"This is my text\\\" | ipfs add\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Lister les fichiers\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs files ls\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Connaitre le CID d'un nom de domaine\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs name resolve /ipns/example.com\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Rafraichir le cache\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs name resolve -n --dhtt 0 /ipns/example.com\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Recuperer le hash d'un fichier sans l'envoyer sur IPFS\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs add --only-hash <file>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Récupérer le peer d'un fichier\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs dht findprovs <hash>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Héberger un site sur IPFS\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Voici les étapes à suivre pour héberger un site sur le réseau peer-to-peer IPFS :\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Créez un dossier (ex: \", _jsx(_components.code, {\n        children: \"_site\"\n      }), \") avec un fichier HTML à l'intérieur (ex : \", _jsx(_components.code, {\n        children: \"index.html\"\n      }), \") :\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"mkdir _site\\necho \\\"hello world\\\" > _site/index.html\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Envoyez le dossier sur IPFS :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs add -r _site --to-files /\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Récupérez le hash CID du dossier :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs files ls -l\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Rendez-vous sur \", _jsx(_components.code, {\n        children: \"https://ipfs.io/ipfs/<CID>\"\n      }), \" pour voir votre fichier depuis la passerelle officielle ipfs.io.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Relier un nom de domaine à un site web hébergé sur IPFS\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Vous pouvez utiliser une passerelle IPFS pour relier un nom de domaine classique à votre site.\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Créez une zone DNS TXT \", _jsx(_components.code, {\n          children: \"_dnslink.example.com\"\n        }), \" avec la valeur \", _jsx(_components.code, {\n          children: \"dnslink=/ipfs/<CID>\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Vous pouvez ensuite accéder à votre site depuis \", _jsx(_components.a, {\n        href: \"https://ipfs.io/ipns/example.com/\",\n        children: \"https://ipfs.io/ipns/example.com/\"\n      }), \" ou \", _jsx(_components.a, {\n        href: \"http://example.com.ipns.localhost:8080/\",\n        children: \"http://example.com.ipns.localhost:8080/\"\n      }), \" si vous avez ipfs-desktop de lancé sur votre ordinateur.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Déployez votre passerelle IPFS \", _jsx(_components.a, {\n        href: \"https://github.com/ethibox/awesome-stacks/blob/master/stacks/ipfs.yml\",\n        children: \"avec Docker\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Créez une zone DNS de type A \", _jsx(_components.code, {\n          children: \"example.com\"\n        }), \" qui pointe sur l'ip de votre passerelle.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Si vous changez fréquemment votre site, vous allez devoir changer la zone TXT avec le nouveau CID de votre dossier à chaque fois.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Pour pallier à ce problème :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs name publish /ipfs/<CID>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Puis ajoutez l'identifiant ipns à votre zone DNS :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"_dnslink.example.com. 60 TXT \\\"dnslink=/ipns/<IPNS_ID>\\\"\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Maintenant, à chaque mise à jour de votre dossier \", _jsx(_components.code, {\n        children: \"_site\"\n      }), \", exécutez la commande suivante :\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"ipfs name publish /ipfs/<CID>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Performances\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Niveau performances, il est préférable d'uploader votre site dans la passerelle afin que le contenu soit pinné.\"\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"Références :\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://filebase.com/\",\n          children: \"https://filebase.com/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://thebidouilleur.xyz/blog/ipfs/\",\n          children: \"https://thebidouilleur.xyz/blog/ipfs/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/ipfs-cluster/ipfs-cluster/\",\n          children: \"https://github.com/ipfs-cluster/ipfs-cluster/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/ipfs-shipyard/ipfs-deploy\",\n          children: \"https://github.com/ipfs-shipyard/ipfs-deploy\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://ipfs.github.io/public-gateway-checker/\",\n          children: \"https://ipfs.github.io/public-gateway-checker/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://korben.info/ipfs-le-web-permanent.html\",\n          children: \"https://korben.info/ipfs-le-web-permanent.html\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://fr.wikipedia.org/wiki/InterPlanetary_File_System\",\n          children: \"https://fr.wikipedia.org/wiki/InterPlanetary_File_System\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://developers.cloudflare.com/distributed-web/ipfs-gateway\",\n          children: \"https://developers.cloudflare.com/distributed-web/ipfs-gateway\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{"datePublished":"2021-05-30T19:50","dateUpdated":"2023-08-15T19:50","permalink":"ipfs","title":"Héberger un site sur le réseau IPFS","publish":true,"rss":true,"note":81},"scope":{}},"isIndex":false,"file":"IPFS.md","fileName":"IPFS","comments":true,"title":"Héberger un site sur le réseau IPFS","permalink":"ipfs","datePublished":"2021-05-30T19:50","dateUpdated":"2023-08-15T19:50","publish":true,"rss":true,"note":81},"__N_SSG":true}