<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@_johackim" data-next-head=""/><meta name="twitter:creator" content="@_johackim" data-next-head=""/><meta property="og:url" content="https://johackim.com" data-next-head=""/><meta property="og:locale" content="fr_FR" data-next-head=""/><meta property="og:site_name" content="johackim" data-next-head=""/><title data-next-head="">Comment mener une attaque via une clé USB ? | Johackim - Hacker indépendant</title><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l&#x27;aide d&#x27;une clé USB en seulement 7 secondes ?" data-next-head=""/><meta property="og:title" content="Comment mener une attaque via une clé USB ?" data-next-head=""/><meta property="og:description" content="Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l&#x27;aide d&#x27;une clé USB en seulement 7 secondes ?" data-next-head=""/><meta property="og:type" content="article" data-next-head=""/><meta property="article:published_time" content="2018-02-19T07:57:00.000Z" data-next-head=""/><meta property="article:modified_time" content="2018-02-19T07:57:00.000Z" data-next-head=""/><meta property="og:image" content="https://johackim.com/covers/comment-menez-facilement-des-attaques-via-usb.jpg" data-next-head=""/><link rel="preload" href="/_next/static/media/47cbc4e2adbc5db9-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/a1ff13823887c96f.css" as="style"/><script type="application/ld+json" data-next-head="">{"@context":"https://schema.org","@type":"article","datePublished":"2018-02-19T07:57:00.000Z","description":"Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l&apos;aide d&apos;une clé USB en seulement 7 secondes ?","mainEntityOfPage":{"@type":"WebPage","@id":"https://johackim.com/comment-menez-facilement-des-attaques-via-usb"},"headline":"Comment mener une attaque via une clé USB ?","image":["https://johackim.com/covers/comment-menez-facilement-des-attaques-via-usb.jpg"],"dateModified":"2018-02-19T07:57:00.000Z","author":{"@type":"Person","name":"Johackim"}}</script><link rel="stylesheet" href="/_next/static/css/a1ff13823887c96f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-b1e5f14688f9ffe6.js" defer=""></script><script src="/_next/static/chunks/main-d50aa070ebba4b51.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5505c828b8556d55.js" defer=""></script><script src="/_next/static/chunks/92-8aaa74fb1c3ae5c6.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...permalink%5D%5D-04cf9b070610d4d9.js" defer=""></script><script src="/_next/static/_el56_-biNsFWCfXxZnRa/_buildManifest.js" defer=""></script><script src="/_next/static/_el56_-biNsFWCfXxZnRa/_ssgManifest.js" defer=""></script><style id="__jsx-2490803925">html{font-family:'Roboto', 'Roboto Fallback'}</style></head><body><link rel="preload" as="image" href="https://i.imgur.com/Bxu66a7.jpeg"/><link rel="preload" as="image" href="https://wiki.bashbunny.com/images/bb_diagram1.png"/><div id="__next"><header class="flex shadow-md inset-x-0 h-16 items-center z-30 text-gray-700 bg-white fixed top-0"><div class="container m-auto flex items-center justify-between flex-wrap px-4 lg:max-w-screen-lg"><a href="/"><div class="flex items-center"><img alt="logo" loading="lazy" width="48" height="48" decoding="async" data-nimg="1" class="rounded-full w-12" style="color:transparent" src="/profile.jpg"/><div class="ml-2"><div class="font-bold leading-none">Johackim</div><div class="text-sm leading-none">Hacker indépendant</div></div></div></a><nav class="grid grid-flow-col gap-4 items-center"><a class="hover:underline hidden md:block" href="/">Accueil</a><a class="hover:underline hidden md:block" href="/articles">Articles</a><a href="/newsletter"><button type="button" class="bg-cyan-700 text-white hover:text-white hover:bg-cyan-800 px-2.5 py-1.5 rounded-md cursor-pointer">S&#x27;abonner</button></a></nav></div></header><main class="lg:max-w-screen-lg m-auto px-4"><div class="bg-cyan-600 h-1 z-30 fixed inset-0" style="width:0%"></div><div class="md:border md:border-gray-200 mt-20"><h1 class="h-64 flex flex-col justify-center relative border-b border-gray-200"><span class="absolute inset-0 bg-gray-100 opacity-80 z-10"></span><span class="transform text-center font-bold px-4 text-4xl text-gray-600 break-words z-20">Comment mener une attaque via une clé USB ?</span></h1><div class="text-xs my-4 md:px-4 text-gray-700"><span>Mis à jour le </span><span>lundi 19 février 2018</span><span> par <a class="underline text-cyan-700" href="/a-propos">johackim</a></span></div><article class="prose break-words prose-a:font-normal prose-a:text-cyan-700 prose-a:break-words marker:text-gray-700 prose-code:font-normal prose-code:break-words prose-inline-code:px-1.5 prose-inline-code:py-0.5 prose-code:whitespace-pre-wrap prose-code:text-xs prose-code:bg-gray-200 prose-code:rounded-md prose-pre:bg-gray-200 prose-pre:text-gray-700 prose-pre:overflow-x-auto max-w-none px-0 py-4 md:p-4 prose-code:before:hidden prose-code:after:hidden prose-mark:bg-gray-300 prose-td:border-gray-300 prose-td:border prose-td:px-4 prose-th:border prose-th:border-gray-300 prose-th:px-4 prose-th:py-2"><p>Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l&#x27;aide d&#x27;une clé USB en seulement 7 secondes ?</p>
<p><strong>Tout ce qui est présenté dans cet article est réalisé uniquement à des fins éducatives et préventives. Il ne doit en aucun cas être utilisé sur un autre équipement que le vôtre, sans quoi vous vous exposerez à des poursuites pénales de la part des propriétaires. Je ne suis en aucun cas responsable des préjudices ou dommages de quelque nature que ce soit pouvant résulter de l’utilisation de ce qui se trouve dans cet article.</strong></p>
<h2>Bash Bunny ?</h2>
<p><img src="https://i.imgur.com/Bxu66a7.jpeg" alt="Bash Bunny"/></p>
<p><strong>Bash Bunny</strong> est en apparence une simple clé <strong>USB</strong>, en réalité il s&#x27;agit d&#x27;un ordinateur sous <a class="" href="/linux">Linux</a> qui une fois branchée est considéré comme un périphérique de confiance (un clavier, une carte réseau, un port série ou un disque mémoire flash).</p>

<p>Elle peut être branchée sur n&#x27;importe quel périphérique doté d&#x27;une entrée USB/Micro USB (<strong>Linux</strong>, <strong>Windows</strong>, <strong>OSX</strong>, <strong>Android</strong>, <strong>Raspberry Pi</strong>, <strong>FireTV</strong> ect..).</p>
<p>Une fois branchée elle peut par exemple :</p>
<ul>
<li><strong>Exfiltrer des identifiants</strong>, documents, photos, vidéos, etc...</li>
<li>Installer une <strong><a class="" target="_blank" href="https://wikiwand.com/fr/Porte_d%C3%A9rob%C3%A9e">Backdoor</a></strong></li>
<li>Executer une <strong><a class="" target="_blank" href="https://wikiwand.com/fr/Fork_bomb">Fork bomb</a></strong></li>
<li><a class="" target="_blank" href="https://youtube.com/watch?v=QCqW6wXkz3Y">Bruteforcer le code à 4 chiffres d&#x27;un téléphone</a></li>
<li><a class="" target="_blank" href="https://github.com/hak5/bashbunny-payloads">etc...</a></li>
</ul>
<p>Sachant qu&#x27;une <a class="" target="_blank" href="https://wikiwand.com/fr/Porte_d%C3%A9rob%C3%A9e">Backdoor</a> installé par ce moyen (ou un autre) peut permettre davantage :</p>
<ul>
<li><strong>Activer la Webcam</strong> à distance</li>
<li>Enregistrer les frappes du clavier à distance (<strong>keylogger</strong>)</li>
<li>Enregistrer l&#x27;<strong>audio</strong> à distance</li>
<li><strong>Géolocaliser</strong> votre périphérique à distance</li>
<li>Observer et <strong>intercepter vos communications réseau</strong></li>
</ul>
<p>Nous allons voir dans cet article comment cette clé fonctionne et comment se protéger de ce genre de périphérique USB.</p>
<h2>Comment ça fonctionne ?</h2>
<p>Le fonctionnement de cette clé est plutôt simple, à la différence d&#x27;une clé USB classique elle dispose d&#x27;une <strong>LED RGB</strong> servant à indiquer l&#x27;état d&#x27;exécution des <strong>payloads</strong>, et d&#x27;un <strong>interrupteur à 3 positions</strong>.</p>
<p><img src="https://wiki.bashbunny.com/images/bb_diagram1.png" alt="Bash Bunny Modes"/></p>
<p>Les positions 1 et 2 servent simplement à exécuter nos <strong>payloads</strong> et de permuter entre eux facilement tandis que la position 3 (<strong>Arming Mode</strong>) va nous permettre de les éditer.</p>
<p>Avant tout, je vous conseille de mettre à jour le <strong>firmware</strong> de la clé :</p>
<ol>
<li><a class="" target="_blank" href="https://wiki.bashbunny.com/#!downloads.md">Télécharger le dernier fichier de mise à jour.</a></li>
<li>Le copier à la racine de la clé (sans extraire le contenu de l&#x27;archive)</li>
<li>Débrancher et rebrancher la clé.</li>
<li>Attendre 10 minutes jusqu&#x27;à ce que la clé clignote bleue.</li>
</ol>
<p>Chaque <strong>payload</strong> (attaque), est écrit dans un langage simple &quot;<strong>Bunny Script</strong>&quot; composé de fichiers texte à éditer sur la clé :</p>
<ul>
<li>payloads/switch1/payload.txt (position 1)</li>
<li>payloads/switch2/payload.txt (position 2)</li>
</ul>
<p>Voci un exemple simple de payload :</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">#!/bin/bash

# init
LED SETUP
ATTACKMODE HID

# attack
LED ATTACK
RUN UNITY xterm
Q DELAY 1000
Q STRING touch /tmp/owned.txt
Q ENTER
Q STRING exit
Q ENTER
RUN UNITY gedit
Q DELAY 1000
Q STRING &quot;Bonsoir Elliot&quot;

# finish
LED FINISH
</code></pre></div>
<p>Dans cet exemple, au moment où l&#x27;on va brancher la clé sur un PC linux, un fichier /tmp/owned.txt sera créé et un éditeur de texte sera ouvert avec écrit &quot;Bonsoir Elliot&quot; à l&#x27;intérieur.</p>
<p>On remarque dans ce script plusieurs paramètres :</p>
<ul>
<li><strong>ATTACKMODE</strong> pour changer le type d&#x27;attaque, ici <strong>HID</strong> pour simuler un clavier.</li>
<li><strong><code>RUN UNITY &lt;nom_logiciel&gt;</code></strong> pour démarrer un logiciel.</li>
<li><strong>LED</strong> pour manier les couleurs de la LED.</li>
<li><strong>DELAY</strong> pour attendre.</li>
<li><strong>ENTER</strong> pour la touche entrée.</li>
<li><a class="" target="_blank" href="https://github.com/hak5/bashbunny-payloads/blob/master/docs/readme.txt">Voir plus de paramètres</a>.</li>
</ul>
<p>Ce payload est là à titre d&#x27;exemple, vous pouvez écrire vos payloads ou en consulter d&#x27;autres sur ce <a class="" target="_blank" href="https://github.com/hak5/bashbunny-payloads">dépôt github</a>.</p>
<h2>Comment s&#x27;en protéger ?</h2>
<p>On a vu dans cet article qu&#x27;il était très simple d&#x27;utiliser ce genre de clé, <strong>je vous conseille fortement de vous en protéger</strong>, il existe plusieurs moyens à ma connaissance :</p>
<ul>
<li><strong>Verouiller votre session utilisateur</strong> pour limiter les interactions clavier.</li>
<li><strong>Ne jamais faire confiance</strong> à des clés USB autre que les siennes.</li>
<li>Installer un utilitaire comme <a class="" target="_blank" href="https://github.com/errbufferoverfl/usb-canary">Usb-canary</a> (Linux, OSX) qui peut vous envoyer un SMS dès que quelqu&#x27;un tente de brancher un périphérique USB sur votre ordinateur durant votre absence.</li>
<li><strong>Vérouiller vos entrées USB</strong> avec des <a class="" target="_blank" href="https://frama.link/22sR4VfY">bloqueurs de ports</a>.</li>
</ul>
<p>Si vous avez d&#x27;autres astuces, n&#x27;hésitez pas à les poster en commentaire ;)</p>
<h2>Conclusion</h2>
<p>Pour ceux qui se le demande, il est possible de reprogrammer le firmware de certaines <strong>clés USB classiques</strong> vendues dans le commerce pour reproduire un fonctionnement similaire à Bash Bunny.</p>
<p>Vous connaissez sans doute sa petite soeur <strong>Rubber Ducky</strong>, la grosse différence que j&#x27;ai pu recenser pour le moment est que le Bash Bunny peut émuler plusieurs types d&#x27;appareils tandis que le Rubber Ducky peut juste émuler un clavier. Et oui, Bash Bunny est aussi compatible avec les <a class="" target="_blank" href="https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Duckyscript">Ducky Script</a>.</p>
<p>Je n&#x27;ai pas encore exploré les modes d&#x27;attaques <strong>SERIAL</strong>, <strong>ECM_ETHERNET</strong> et <strong>RNDIS_ETHERNET</strong>, ça fera surement l&#x27;objet d&#x27;un autre article.</p>
<hr/>
<p>Références :</p>
<ul>
<li><a class="" target="_blank" href="https://wiki.bashbunny.com/">https://wiki.bashbunny.com/</a></li>
<li><a class="" target="_blank" href="https://github.com/hak5/bashbunny-payloads">https://github.com/hak5/bashbunny-payloads</a></li>
<li><a class="" target="_blank" href="https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Duckyscript">https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Duckyscript</a></li>
<li><a class="" target="_blank" href="https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads">https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads</a></li>
</ul></article><div class="md:px-4"><hr class="border-gray-200 mb-4 mt-8"/><div id="commento"></div></div></div></main><footer class="container m-auto px-4 py-8 flex items-center justify-between flex-wrap lg:max-w-screen-lg text-gray-700"><div><span class="inline-block transform rotate-180">©</span><span class="ml-2">2017-2025</span></div><nav class="grid grid-flow-col gap-2 items-center"><a href="https://x.com/_johackim" aria-label="X" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg></a><a href="https://t.me/johackim" aria-label="Telegram" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path></svg></a><a href="https://mastodon.ethibox.fr/@johackim" aria-label="Mastodon" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" aria-hidden="true" data-prefix="fab" data-icon="mastodon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></a><a href="https://github.com/johackim" aria-label="Github" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a href="https://linkedin.com/in/johackim" aria-label="LinkedIn" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="mailto:contact+blog@johackim.com" aria-label="Mail" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a><a href="/rss.xml" aria-label="RSS" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg></a></nav></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    h2: \"h2\",\n    hr: \"hr\",\n    img: \"img\",\n    li: \"li\",\n    ol: \"ol\",\n    p: \"p\",\n    pre: \"pre\",\n    strong: \"strong\",\n    ul: \"ul\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l'aide d'une clé USB en seulement 7 secondes ?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"Tout ce qui est présenté dans cet article est réalisé uniquement à des fins éducatives et préventives. Il ne doit en aucun cas être utilisé sur un autre équipement que le vôtre, sans quoi vous vous exposerez à des poursuites pénales de la part des propriétaires. Je ne suis en aucun cas responsable des préjudices ou dommages de quelque nature que ce soit pouvant résulter de l’utilisation de ce qui se trouve dans cet article.\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Bash Bunny ?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://i.imgur.com/Bxu66a7.jpeg\",\n        alt: \"Bash Bunny\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.strong, {\n        children: \"Bash Bunny\"\n      }), \" est en apparence une simple clé \", _jsx(_components.strong, {\n        children: \"USB\"\n      }), \", en réalité il s'agit d'un ordinateur sous \", _jsx(_components.a, {\n        href: \"/linux\",\n        title: \"Linux\",\n        children: \"Linux\"\n      }), \" qui une fois branchée est considéré comme un périphérique de confiance (un clavier, une carte réseau, un port série ou un disque mémoire flash).\"]\n    }), \"\\n\\n\", _jsxs(_components.p, {\n      children: [\"Elle peut être branchée sur n'importe quel périphérique doté d'une entrée USB/Micro USB (\", _jsx(_components.strong, {\n        children: \"Linux\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"Windows\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"OSX\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"Android\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"Raspberry Pi\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"FireTV\"\n      }), \" ect..).\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Une fois branchée elle peut par exemple :\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Exfiltrer des identifiants\"\n        }), \", documents, photos, vidéos, etc...\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Installer une \", _jsx(_components.strong, {\n          children: _jsx(_components.a, {\n            href: \"https://wikiwand.com/fr/Porte_d%C3%A9rob%C3%A9e\",\n            children: \"Backdoor\"\n          })\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Executer une \", _jsx(_components.strong, {\n          children: _jsx(_components.a, {\n            href: \"https://wikiwand.com/fr/Fork_bomb\",\n            children: \"Fork bomb\"\n          })\n        })]\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://youtube.com/watch?v=QCqW6wXkz3Y\",\n          children: \"Bruteforcer le code à 4 chiffres d'un téléphone\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/hak5/bashbunny-payloads\",\n          children: \"etc...\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Sachant qu'une \", _jsx(_components.a, {\n        href: \"https://wikiwand.com/fr/Porte_d%C3%A9rob%C3%A9e\",\n        children: \"Backdoor\"\n      }), \" installé par ce moyen (ou un autre) peut permettre davantage :\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Activer la Webcam\"\n        }), \" à distance\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Enregistrer les frappes du clavier à distance (\", _jsx(_components.strong, {\n          children: \"keylogger\"\n        }), \")\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Enregistrer l'\", _jsx(_components.strong, {\n          children: \"audio\"\n        }), \" à distance\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Géolocaliser\"\n        }), \" votre périphérique à distance\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Observer et \", _jsx(_components.strong, {\n          children: \"intercepter vos communications réseau\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Nous allons voir dans cet article comment cette clé fonctionne et comment se protéger de ce genre de périphérique USB.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Comment ça fonctionne ?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Le fonctionnement de cette clé est plutôt simple, à la différence d'une clé USB classique elle dispose d'une \", _jsx(_components.strong, {\n        children: \"LED RGB\"\n      }), \" servant à indiquer l'état d'exécution des \", _jsx(_components.strong, {\n        children: \"payloads\"\n      }), \", et d'un \", _jsx(_components.strong, {\n        children: \"interrupteur à 3 positions\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://wiki.bashbunny.com/images/bb_diagram1.png\",\n        alt: \"Bash Bunny Modes\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Les positions 1 et 2 servent simplement à exécuter nos \", _jsx(_components.strong, {\n        children: \"payloads\"\n      }), \" et de permuter entre eux facilement tandis que la position 3 (\", _jsx(_components.strong, {\n        children: \"Arming Mode\"\n      }), \") va nous permettre de les éditer.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Avant tout, je vous conseille de mettre à jour le \", _jsx(_components.strong, {\n        children: \"firmware\"\n      }), \" de la clé :\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://wiki.bashbunny.com/#!downloads.md\",\n          children: \"Télécharger le dernier fichier de mise à jour.\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Le copier à la racine de la clé (sans extraire le contenu de l'archive)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Débrancher et rebrancher la clé.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Attendre 10 minutes jusqu'à ce que la clé clignote bleue.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Chaque \", _jsx(_components.strong, {\n        children: \"payload\"\n      }), \" (attaque), est écrit dans un langage simple \\\"\", _jsx(_components.strong, {\n        children: \"Bunny Script\"\n      }), \"\\\" composé de fichiers texte à éditer sur la clé :\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"payloads/switch1/payload.txt (position 1)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"payloads/switch2/payload.txt (position 2)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Voci un exemple simple de payload :\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"#!/bin/bash\\n\\n# init\\nLED SETUP\\nATTACKMODE HID\\n\\n# attack\\nLED ATTACK\\nRUN UNITY xterm\\nQ DELAY 1000\\nQ STRING touch /tmp/owned.txt\\nQ ENTER\\nQ STRING exit\\nQ ENTER\\nRUN UNITY gedit\\nQ DELAY 1000\\nQ STRING \\\"Bonsoir Elliot\\\"\\n\\n# finish\\nLED FINISH\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Dans cet exemple, au moment où l'on va brancher la clé sur un PC linux, un fichier /tmp/owned.txt sera créé et un éditeur de texte sera ouvert avec écrit \\\"Bonsoir Elliot\\\" à l'intérieur.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"On remarque dans ce script plusieurs paramètres :\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"ATTACKMODE\"\n        }), \" pour changer le type d'attaque, ici \", _jsx(_components.strong, {\n          children: \"HID\"\n        }), \" pour simuler un clavier.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: _jsx(_components.code, {\n            children: \"RUN UNITY \u003cnom_logiciel\u003e\"\n          })\n        }), \" pour démarrer un logiciel.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"LED\"\n        }), \" pour manier les couleurs de la LED.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"DELAY\"\n        }), \" pour attendre.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"ENTER\"\n        }), \" pour la touche entrée.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://github.com/hak5/bashbunny-payloads/blob/master/docs/readme.txt\",\n          children: \"Voir plus de paramètres\"\n        }), \".\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ce payload est là à titre d'exemple, vous pouvez écrire vos payloads ou en consulter d'autres sur ce \", _jsx(_components.a, {\n        href: \"https://github.com/hak5/bashbunny-payloads\",\n        children: \"dépôt github\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Comment s'en protéger ?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"On a vu dans cet article qu'il était très simple d'utiliser ce genre de clé, \", _jsx(_components.strong, {\n        children: \"je vous conseille fortement de vous en protéger\"\n      }), \", il existe plusieurs moyens à ma connaissance :\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Verouiller votre session utilisateur\"\n        }), \" pour limiter les interactions clavier.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Ne jamais faire confiance\"\n        }), \" à des clés USB autre que les siennes.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Installer un utilitaire comme \", _jsx(_components.a, {\n          href: \"https://github.com/errbufferoverfl/usb-canary\",\n          children: \"Usb-canary\"\n        }), \" (Linux, OSX) qui peut vous envoyer un SMS dès que quelqu'un tente de brancher un périphérique USB sur votre ordinateur durant votre absence.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Vérouiller vos entrées USB\"\n        }), \" avec des \", _jsx(_components.a, {\n          href: \"https://frama.link/22sR4VfY\",\n          children: \"bloqueurs de ports\"\n        }), \".\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Si vous avez d'autres astuces, n'hésitez pas à les poster en commentaire ;)\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Conclusion\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Pour ceux qui se le demande, il est possible de reprogrammer le firmware de certaines \", _jsx(_components.strong, {\n        children: \"clés USB classiques\"\n      }), \" vendues dans le commerce pour reproduire un fonctionnement similaire à Bash Bunny.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Vous connaissez sans doute sa petite soeur \", _jsx(_components.strong, {\n        children: \"Rubber Ducky\"\n      }), \", la grosse différence que j'ai pu recenser pour le moment est que le Bash Bunny peut émuler plusieurs types d'appareils tandis que le Rubber Ducky peut juste émuler un clavier. Et oui, Bash Bunny est aussi compatible avec les \", _jsx(_components.a, {\n        href: \"https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Duckyscript\",\n        children: \"Ducky Script\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Je n'ai pas encore exploré les modes d'attaques \", _jsx(_components.strong, {\n        children: \"SERIAL\"\n      }), \", \", _jsx(_components.strong, {\n        children: \"ECM_ETHERNET\"\n      }), \" et \", _jsx(_components.strong, {\n        children: \"RNDIS_ETHERNET\"\n      }), \", ça fera surement l'objet d'un autre article.\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"Références :\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://wiki.bashbunny.com/\",\n          children: \"https://wiki.bashbunny.com/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/hak5/bashbunny-payloads\",\n          children: \"https://github.com/hak5/bashbunny-payloads\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Duckyscript\",\n          children: \"https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Duckyscript\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads\",\n          children: \"https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{"title":"Comment mener une attaque via une clé USB ?","permalink":"comment-menez-facilement-des-attaques-via-usb","datePublished":"2018-02-19T07:57","dateUpdated":"2018-02-19T07:57","description":"Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l'aide d'une clé USB en seulement 7 secondes ?","aliases":["Attaque USB"],"publish":true,"rss":true},"scope":{}},"isIndex":false,"file":"Bash Bunny.md","fileName":"Bash Bunny","comments":true,"title":"Comment mener une attaque via une clé USB ?","permalink":"comment-menez-facilement-des-attaques-via-usb","datePublished":"2018-02-19T07:57","dateUpdated":"2018-02-19T07:57","description":"Existe-t-il un moyen simple de mener une attaque physique sur un ordinateur ou un téléphone simplement à l'aide d'une clé USB en seulement 7 secondes ?","aliases":["Attaque USB"],"publish":true,"rss":true},"__N_SSG":true},"page":"/[[...permalink]]","query":{"permalink":["comment-menez-facilement-des-attaques-via-usb"]},"buildId":"_el56_-biNsFWCfXxZnRa","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>