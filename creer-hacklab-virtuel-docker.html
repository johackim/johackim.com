<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><meta name="twitter:site" content="@_johackim" data-next-head=""/><meta name="twitter:creator" content="@_johackim" data-next-head=""/><meta property="og:url" content="https://johackim.com" data-next-head=""/><meta property="og:locale" content="fr_FR" data-next-head=""/><meta property="og:site_name" content="johackim" data-next-head=""/><title data-next-head="">Créer son hacklab virtuel avec docker | Johackim - Hacker indépendant</title><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un hacklab sous docker en tant qu&#x27;environnement de pentesting." data-next-head=""/><meta property="og:title" content="Créer son hacklab virtuel avec docker" data-next-head=""/><meta property="og:description" content="Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un hacklab sous docker en tant qu&#x27;environnement de pentesting." data-next-head=""/><meta property="og:type" content="article" data-next-head=""/><meta property="article:published_time" content="2017-12-18T08:00:00.000Z" data-next-head=""/><meta property="article:modified_time" content="2017-12-18T08:00:00.000Z" data-next-head=""/><meta property="og:image" content="https://johackim.com/covers/creer-hacklab-virtuel-docker.jpg" data-next-head=""/><link rel="preload" href="/_next/static/media/47cbc4e2adbc5db9-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/a1ff13823887c96f.css" as="style"/><script type="application/ld+json" data-next-head="">{"@context":"https://schema.org","@type":"article","datePublished":"2017-12-18T08:00:00.000Z","description":"Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un hacklab sous docker en tant qu&apos;environnement de pentesting.","mainEntityOfPage":{"@type":"WebPage","@id":"https://johackim.com/creer-hacklab-virtuel-docker"},"headline":"Créer son hacklab virtuel avec docker","image":["https://johackim.com/covers/creer-hacklab-virtuel-docker.jpg"],"dateModified":"2017-12-18T08:00:00.000Z","author":{"@type":"Person","name":"Johackim"}}</script><link rel="stylesheet" href="/_next/static/css/a1ff13823887c96f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-b1e5f14688f9ffe6.js" defer=""></script><script src="/_next/static/chunks/main-d50aa070ebba4b51.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5505c828b8556d55.js" defer=""></script><script src="/_next/static/chunks/92-8aaa74fb1c3ae5c6.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...permalink%5D%5D-04cf9b070610d4d9.js" defer=""></script><script src="/_next/static/X5Y-k7feQsTfi0E8URMx9/_buildManifest.js" defer=""></script><script src="/_next/static/X5Y-k7feQsTfi0E8URMx9/_ssgManifest.js" defer=""></script><style id="__jsx-2490803925">html{font-family:'Roboto', 'Roboto Fallback'}</style></head><body><link rel="preload" as="image" href="https://i.imgur.com/DOwUMHk.png"/><link rel="preload" as="image" href="https://i.imgur.com/TyIYrzj.png"/><div id="__next"><header class="flex shadow-md inset-x-0 h-16 items-center z-30 text-gray-700 bg-white fixed top-0"><div class="container m-auto flex items-center justify-between flex-wrap px-4 lg:max-w-screen-lg"><a href="/"><div class="flex items-center"><img alt="logo" loading="lazy" width="48" height="48" decoding="async" data-nimg="1" class="rounded-full w-12" style="color:transparent" src="/profile.jpg"/><div class="ml-2"><div class="font-bold leading-none">Johackim</div><div class="text-sm leading-none">Hacker indépendant</div></div></div></a><nav class="grid grid-flow-col gap-4 items-center"><a class="hover:underline hidden md:block" href="/">Accueil</a><a class="hover:underline hidden md:block" href="/articles">Articles</a><a href="/newsletter"><button type="button" class="bg-cyan-700 text-white hover:text-white hover:bg-cyan-800 px-2.5 py-1.5 rounded-md cursor-pointer">S&#x27;abonner</button></a></nav></div></header><main class="lg:max-w-screen-lg m-auto px-4"><div class="bg-cyan-600 h-1 z-30 fixed inset-0" style="width:0%"></div><div class="md:border md:border-gray-200 mt-20"><h1 class="h-64 flex flex-col justify-center relative border-b border-gray-200"><span class="absolute inset-0 bg-gray-100 opacity-80 z-10"></span><span class="transform text-center font-bold px-4 text-4xl text-gray-600 break-words z-20">Créer son hacklab virtuel avec docker</span></h1><div class="text-xs my-4 md:px-4 text-gray-700"><span>Mis à jour le </span><span>lundi 18 décembre 2017</span><span> par <a class="underline text-cyan-700" href="/a-propos">johackim</a></span></div><article class="prose break-words prose-a:font-normal prose-a:text-cyan-700 prose-a:break-words marker:text-gray-700 prose-code:font-normal prose-code:break-words prose-inline-code:px-1.5 prose-inline-code:py-0.5 prose-code:whitespace-pre-wrap prose-code:text-xs prose-code:bg-gray-200 prose-code:rounded-md prose-pre:bg-gray-200 prose-pre:text-gray-700 prose-pre:overflow-x-auto max-w-none px-0 py-4 md:p-4 prose-code:before:hidden prose-code:after:hidden prose-mark:bg-gray-300 prose-td:border-gray-300 prose-td:border prose-td:px-4 prose-th:border prose-th:border-gray-300 prose-th:px-4 prose-th:py-2"><p>Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un <strong>hacklab</strong> sous <strong>docker</strong> en tant qu&#x27;environnement de <strong>pentesting</strong>. Je peux désormais réaliser mes <strong>tests d&#x27;intrusions</strong> depuis tout type d&#x27;environnement (<a class="" href="/linux">Linux</a>, Mac OS, Windows).</p>

<p>Voici mon <strong>hacklab</strong> : <a class="" target="_blank" href="http://github.com/johackim/docker-hacklab">http://github.com/johackim/docker-hacklab</a></p>
<p><img src="https://i.imgur.com/DOwUMHk.png" alt="Hacklab"/></p>
<p>Je regroupe dans cet environnement virtuel un ensemble d&#x27;outils qui me permet de réaliser très rapidement des actions de <strong>pentest</strong>. Une simple commande me permet de démarrer instantanément mon <strong>environnement virtuel</strong>.</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">docker run --name hacklab --net=host --privileged -it ston3o/docker-hacklab zsh
</code></pre></div>
<p><a class="" target="_blank" href="http://github.com/johackim/docker-hacklab">Ce dépôt github</a> recense toutes les <strong>techniques</strong> et <strong>outils</strong> me permettant de mener à bien mes <strong>pentest</strong>.</p>
<h2>1. README</h2>
<p>Je recense toutes les ressources que je juge utile dans <a class="" target="_blank" href="https://github.com/johackim/docker-hacklab/blob/master/README.md">le fichier README.md</a> que j&#x27;améliore au fur et à mesure de mes découvertes, on y trouve actuellement plein de ressources sur le thème de la sécurité :</p>
<ul>
<li><a class="" target="_blank" href="https://github.com/johackim/docker-hacklab/blob/master/README.md#exploit-database">Des bases de données d&#x27;exploits</a>.</li>
<li><a class="" target="_blank" href="https://github.com/johackim/docker-hacklab#other-useful-docker-commands">D&#x27;autres commandes docker utiles</a></li>
<li><a class="" target="_blank" href="https://github.com/johackim/docker-hacklab#search-engines">Des moteurs de recherche d&#x27;équipements connectés</a></li>
<li>Des sites de doxing</li>
<li>Des blogs et chaines YouTube</li>
<li>Des dépôts github</li>
</ul>
<h2>2. Cheats</h2>
<p><img src="https://i.imgur.com/TyIYrzj.png" alt=""/></p>
<p><a class="" target="_blank" href="https://github.com/chrisallenlane/cheat">Cheat</a> est très pratique pour gérer ses <strong>aide-mémoires</strong>.</p>
<p>Si par exemple je ne me souviens plus des commandes du framework <strong>metasploit</strong> :</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">$ cheat metasploit

# To show all exploits that for a vulnerability
grep &lt;vulnerability&gt; show exploits

# To select an exploit to use
use &lt;exploit&gt;

# To see the current settings for a selected exploit
show options

# To see compatible payloads for a selected exploit
show payloads

# To set the payload for a selected exploit
set payload &lt;payload&gt;

# To set setting for a selected exploit 
set &lt;option&gt; &lt;value&gt;

# To run the exploit
exploit
</code></pre></div>
<p>On peut aussi éditer ou chercher un aide mémoire.</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">cheat -e &lt;name&gt; # Editer un aide mémoire
cheat -s &lt;word&gt; # Chercher un mot dans nos aide-mémoires
</code></pre></div>
<h2>3. Dockerfile</h2>
<p>Mon hacklab reprend une image docker officielle de kali auquel j&#x27;ai ajouté tous mes outils sous forme de paquets ou dépôts github que je regroupe sous plusieurs catégories dans un fichier <a class="" target="_blank" href="https://github.com/johackim/docker-hacklab/blob/master/Dockerfile">Dockerfile</a> :</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash"># Footprinting / Information-Gathering / OSINT / Fingerprint
# AV Evasion / Dropper
# Vulnerability Scanner (SQL, XSS, LFI, RFI etc...)
# Pentest Framework
# MITM / ARP poisoning / Spoofing / Sniffing
# Email Spoofing
# Crack password
# Hash Manipulation
# SQL Injection
# Phishing
# DOS Tools
# Wireless networks
# Reverse Engineering
# Backdoor / Remote Access Trojan (RAT)
# Search exploit
# Post exploitation
# Privilege escalation
# Forensic
# Geolocalisation
# Shellcode
# Wordpress
# Bypass CloudFlare
# Steganography
# Honeypot
# Reverse shell
# Detect WAF
# Remove file metadata
# Disassembler / Decompiler
# Fuzzing
# Paquet manipulation
</code></pre></div>
<p>Je n&#x27;ai pas automatisé les procédures d&#x27;installation de tous les outils, n&#x27;ayant pas encore trouvé le temps de le faire j&#x27;ai simplement cloné les dépôts. À chaque découverte d&#x27;un outil de <strong>pentesting</strong> que je juge utile, je prends quelques secondes pour l&#x27;ajouter dans ce <strong>Dockerfile</strong>.</p>
<p>Vous pouvez reprendre la base de mon <strong>Dockerfile</strong> et ajouter vos propres outils si vous le souhaitez.</p>
<h2>4. Alias</h2>
<p>Pour simplifier son utilisation, je me suis créé un <strong>alias</strong>. Il contient un <strong>volume docker</strong> pour partager des fichiers entre mon host et le container docker.</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">alias hacklab=&#x27;docker run -d --name hacklab --net=host --privileged=true -v /tmp:/mnt -it ston3o/docker-hacklab zsh &gt; /dev/null 2&gt;&amp;1; docker start hacklab &gt; /dev/null; docker exec -it hacklab zsh&#x27;
</code></pre></div>
<p>Grâce à ça je peux démarrer mon hacklab avec <strong>une simple commande</strong>.</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">hacklab
</code></pre></div>
<p>Il existe aussi une technique (<strong>non conseillé pour des raisons de sécurité</strong>) qui permet de lancer des applications avec interface graphique depuis un container docker.</p>
<div class="relative group"><button type="button" class="invisible group-hover:visible absolute top-0 right-0 rounded-md text-xs bg-gray-300 m-3 p-1.5 cursor-pointer leading-none">Copier</button><pre><code class="language-bash">docker run --env=&quot;DISPLAY&quot; --env=&quot;QT_X11_NO_MITSHM=1&quot; --volume=&quot;/tmp/.X11-unix:/tmp/.X11-unix:rw&quot; ston3o/docker-hacklab
xhost +local:root
</code></pre></div>
<h2>5. Sources d&#x27;informations</h2>
<p>On n’oublie pas les petits flux RSS qui nous permettent de rester informés des derniers outils et techniques de pentest. C&#x27;est en partie grâce à ces sources d&#x27;informations que mon Dockerfile a pu évoluer :</p>
<h3>Sites français</h3>
<ul>
<li><a class="" target="_blank" href="http://homputersecurity.com/">http://homputersecurity.com/</a></li>
<li><a class="" target="_blank" href="http://comptoirsecu.fr/">http://comptoirsecu.fr/</a></li>
<li><a class="" target="_blank" href="https://nolimitsecu.fr/">https://nolimitsecu.fr/</a></li>
</ul>
<h3>Sites anglais</h3>
<ul>
<li><a class="" target="_blank" href="http://null-byte.wonderhowto.com/">http://null-byte.wonderhowto.com/</a></li>
<li><a class="" target="_blank" href="https://kitploit.com/">https://kitploit.com/</a></li>
<li><a class="" target="_blank" href="https://n0where.net/">https://n0where.net/</a></li>
<li><a class="" target="_blank" href="http://hackingarticles.in/">http://hackingarticles.in/</a></li>
<li><a class="" target="_blank" href="https://pentestlab.blog/">https://pentestlab.blog/</a></li>
<li><a class="" target="_blank" href="http://haxf4rall.com/">http://haxf4rall.com/</a></li>
</ul>
<h2>Conclusion</h2>
<p>J&#x27;utilise ce <strong>hacklab</strong> pour mon usage personnel, vous pouvez vous en servir, vous en inspirer ou bien créer le vôtre en partant de zéro.</p>
<p>Ce <strong>hacklab</strong> me permet de regrouper toutes mes techniques, connaissances et découvertes dans le domaine de la <strong>sécurité</strong>. Tout ça est regroupé dans un unique espace de travail plutôt agréable à utiliser.</p>
<p><strong>Si vous aimez, n&#x27;hésitez pas à ajouter une star sur <a class="" target="_blank" href="https://github.com/johackim/docker-hacklab">le dépôt github</a> et à me suivre sur <a class="" target="_blank" href="http://mastodon.ethibox.fr/@johackim">mastodon</a>.</strong></p>
<p>Bonne semaine à vous ;)</p>
<hr/>
<p>Références :</p>
<ul>
<li>
<a class="" href="/cybersecurite">Cybersécurité</a>

</li>
</ul></article><div class="md:px-4"><hr class="border-gray-200 mb-4 mt-8"/><div id="commento"></div></div></div></main><footer class="container m-auto px-4 py-8 flex items-center justify-between flex-wrap lg:max-w-screen-lg text-gray-700"><div><span class="inline-block transform rotate-180">©</span><span class="ml-2">2017-2025</span></div><nav class="grid grid-flow-col gap-2 items-center"><a href="https://x.com/_johackim" aria-label="X" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"></path></svg></a><a href="https://t.me/johackim" aria-label="Telegram" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path></svg></a><a href="https://mastodon.ethibox.fr/@johackim" aria-label="Mastodon" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" aria-hidden="true" data-prefix="fab" data-icon="mastodon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></a><a href="https://github.com/johackim" aria-label="Github" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a href="https://linkedin.com/in/johackim" aria-label="LinkedIn" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="mailto:contact+blog@johackim.com" aria-label="Mail" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a><a href="/rss.xml" aria-label="RSS" target="_blank" rel="noreferrer"><svg class="h-5 w-5 fill-current hover:text-black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg></a></nav></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"\"use strict\";\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    code: \"code\",\n    h2: \"h2\",\n    h3: \"h3\",\n    hr: \"hr\",\n    img: \"img\",\n    li: \"li\",\n    p: \"p\",\n    pre: \"pre\",\n    strong: \"strong\",\n    ul: \"ul\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un \", _jsx(_components.strong, {\n        children: \"hacklab\"\n      }), \" sous \", _jsx(_components.strong, {\n        children: \"docker\"\n      }), \" en tant qu'environnement de \", _jsx(_components.strong, {\n        children: \"pentesting\"\n      }), \". Je peux désormais réaliser mes \", _jsx(_components.strong, {\n        children: \"tests d'intrusions\"\n      }), \" depuis tout type d'environnement (\", _jsx(_components.a, {\n        href: \"/linux\",\n        title: \"Linux\",\n        children: \"Linux\"\n      }), \", Mac OS, Windows).\"]\n    }), \"\\n\\n\", _jsxs(_components.p, {\n      children: [\"Voici mon \", _jsx(_components.strong, {\n        children: \"hacklab\"\n      }), \" : \", _jsx(_components.a, {\n        href: \"http://github.com/johackim/docker-hacklab\",\n        children: \"http://github.com/johackim/docker-hacklab\"\n      })]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://i.imgur.com/DOwUMHk.png\",\n        alt: \"Hacklab\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Je regroupe dans cet environnement virtuel un ensemble d'outils qui me permet de réaliser très rapidement des actions de \", _jsx(_components.strong, {\n        children: \"pentest\"\n      }), \". Une simple commande me permet de démarrer instantanément mon \", _jsx(_components.strong, {\n        children: \"environnement virtuel\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"docker run --name hacklab --net=host --privileged -it ston3o/docker-hacklab zsh\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"http://github.com/johackim/docker-hacklab\",\n        children: \"Ce dépôt github\"\n      }), \" recense toutes les \", _jsx(_components.strong, {\n        children: \"techniques\"\n      }), \" et \", _jsx(_components.strong, {\n        children: \"outils\"\n      }), \" me permettant de mener à bien mes \", _jsx(_components.strong, {\n        children: \"pentest\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"1. README\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Je recense toutes les ressources que je juge utile dans \", _jsx(_components.a, {\n        href: \"https://github.com/johackim/docker-hacklab/blob/master/README.md\",\n        children: \"le fichier README.md\"\n      }), \" que j'améliore au fur et à mesure de mes découvertes, on y trouve actuellement plein de ressources sur le thème de la sécurité :\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.a, {\n          href: \"https://github.com/johackim/docker-hacklab/blob/master/README.md#exploit-database\",\n          children: \"Des bases de données d'exploits\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/johackim/docker-hacklab#other-useful-docker-commands\",\n          children: \"D'autres commandes docker utiles\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://github.com/johackim/docker-hacklab#search-engines\",\n          children: \"Des moteurs de recherche d'équipements connectés\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Des sites de doxing\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Des blogs et chaines YouTube\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Des dépôts github\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"2. Cheats\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"https://i.imgur.com/TyIYrzj.png\",\n        alt: \"\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"https://github.com/chrisallenlane/cheat\",\n        children: \"Cheat\"\n      }), \" est très pratique pour gérer ses \", _jsx(_components.strong, {\n        children: \"aide-mémoires\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Si par exemple je ne me souviens plus des commandes du framework \", _jsx(_components.strong, {\n        children: \"metasploit\"\n      }), \" :\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"$ cheat metasploit\\n\\n# To show all exploits that for a vulnerability\\ngrep \u003cvulnerability\u003e show exploits\\n\\n# To select an exploit to use\\nuse \u003cexploit\u003e\\n\\n# To see the current settings for a selected exploit\\nshow options\\n\\n# To see compatible payloads for a selected exploit\\nshow payloads\\n\\n# To set the payload for a selected exploit\\nset payload \u003cpayload\u003e\\n\\n# To set setting for a selected exploit \\nset \u003coption\u003e \u003cvalue\u003e\\n\\n# To run the exploit\\nexploit\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"On peut aussi éditer ou chercher un aide mémoire.\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"cheat -e \u003cname\u003e # Editer un aide mémoire\\ncheat -s \u003cword\u003e # Chercher un mot dans nos aide-mémoires\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"3. Dockerfile\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Mon hacklab reprend une image docker officielle de kali auquel j'ai ajouté tous mes outils sous forme de paquets ou dépôts github que je regroupe sous plusieurs catégories dans un fichier \", _jsx(_components.a, {\n        href: \"https://github.com/johackim/docker-hacklab/blob/master/Dockerfile\",\n        children: \"Dockerfile\"\n      }), \" :\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"# Footprinting / Information-Gathering / OSINT / Fingerprint\\n# AV Evasion / Dropper\\n# Vulnerability Scanner (SQL, XSS, LFI, RFI etc...)\\n# Pentest Framework\\n# MITM / ARP poisoning / Spoofing / Sniffing\\n# Email Spoofing\\n# Crack password\\n# Hash Manipulation\\n# SQL Injection\\n# Phishing\\n# DOS Tools\\n# Wireless networks\\n# Reverse Engineering\\n# Backdoor / Remote Access Trojan (RAT)\\n# Search exploit\\n# Post exploitation\\n# Privilege escalation\\n# Forensic\\n# Geolocalisation\\n# Shellcode\\n# Wordpress\\n# Bypass CloudFlare\\n# Steganography\\n# Honeypot\\n# Reverse shell\\n# Detect WAF\\n# Remove file metadata\\n# Disassembler / Decompiler\\n# Fuzzing\\n# Paquet manipulation\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Je n'ai pas automatisé les procédures d'installation de tous les outils, n'ayant pas encore trouvé le temps de le faire j'ai simplement cloné les dépôts. À chaque découverte d'un outil de \", _jsx(_components.strong, {\n        children: \"pentesting\"\n      }), \" que je juge utile, je prends quelques secondes pour l'ajouter dans ce \", _jsx(_components.strong, {\n        children: \"Dockerfile\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Vous pouvez reprendre la base de mon \", _jsx(_components.strong, {\n        children: \"Dockerfile\"\n      }), \" et ajouter vos propres outils si vous le souhaitez.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"4. Alias\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Pour simplifier son utilisation, je me suis créé un \", _jsx(_components.strong, {\n        children: \"alias\"\n      }), \". Il contient un \", _jsx(_components.strong, {\n        children: \"volume docker\"\n      }), \" pour partager des fichiers entre mon host et le container docker.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"alias hacklab='docker run -d --name hacklab --net=host --privileged=true -v /tmp:/mnt -it ston3o/docker-hacklab zsh \u003e /dev/null 2\u003e\u00261; docker start hacklab \u003e /dev/null; docker exec -it hacklab zsh'\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Grâce à ça je peux démarrer mon hacklab avec \", _jsx(_components.strong, {\n        children: \"une simple commande\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"hacklab\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Il existe aussi une technique (\", _jsx(_components.strong, {\n        children: \"non conseillé pour des raisons de sécurité\"\n      }), \") qui permet de lancer des applications avec interface graphique depuis un container docker.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-bash\",\n        children: \"docker run --env=\\\"DISPLAY\\\" --env=\\\"QT_X11_NO_MITSHM=1\\\" --volume=\\\"/tmp/.X11-unix:/tmp/.X11-unix:rw\\\" ston3o/docker-hacklab\\nxhost +local:root\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"5. Sources d'informations\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"On n’oublie pas les petits flux RSS qui nous permettent de rester informés des derniers outils et techniques de pentest. C'est en partie grâce à ces sources d'informations que mon Dockerfile a pu évoluer :\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Sites français\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://homputersecurity.com/\",\n          children: \"http://homputersecurity.com/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://comptoirsecu.fr/\",\n          children: \"http://comptoirsecu.fr/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://nolimitsecu.fr/\",\n          children: \"https://nolimitsecu.fr/\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Sites anglais\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://null-byte.wonderhowto.com/\",\n          children: \"http://null-byte.wonderhowto.com/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://kitploit.com/\",\n          children: \"https://kitploit.com/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://n0where.net/\",\n          children: \"https://n0where.net/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://hackingarticles.in/\",\n          children: \"http://hackingarticles.in/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://pentestlab.blog/\",\n          children: \"https://pentestlab.blog/\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"http://haxf4rall.com/\",\n          children: \"http://haxf4rall.com/\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Conclusion\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"J'utilise ce \", _jsx(_components.strong, {\n        children: \"hacklab\"\n      }), \" pour mon usage personnel, vous pouvez vous en servir, vous en inspirer ou bien créer le vôtre en partant de zéro.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Ce \", _jsx(_components.strong, {\n        children: \"hacklab\"\n      }), \" me permet de regrouper toutes mes techniques, connaissances et découvertes dans le domaine de la \", _jsx(_components.strong, {\n        children: \"sécurité\"\n      }), \". Tout ça est regroupé dans un unique espace de travail plutôt agréable à utiliser.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsxs(_components.strong, {\n        children: [\"Si vous aimez, n'hésitez pas à ajouter une star sur \", _jsx(_components.a, {\n          href: \"https://github.com/johackim/docker-hacklab\",\n          children: \"le dépôt github\"\n        }), \" et à me suivre sur \", _jsx(_components.a, {\n          href: \"http://mastodon.ethibox.fr/@johackim\",\n          children: \"mastodon\"\n        }), \".\"]\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Bonne semaine à vous ;)\"\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"Références :\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"\\n\", _jsx(_components.a, {\n          href: \"/cybersecurite\",\n          title: \"Cybersécurité\",\n          children: \"Cybersécurité\"\n        }), \"\\n\\n\"]\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{"title":"Créer son hacklab virtuel avec docker","permalink":"creer-hacklab-virtuel-docker","datePublished":"2017-12-18T08:00","dateUpdated":"2017-12-18T08:00","description":"Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un hacklab sous docker en tant qu'environnement de pentesting.","publish":true,"rss":true},"scope":{}},"isIndex":false,"file":"Créer son hacklab virtuel avec docker.md","fileName":"Créer son hacklab virtuel avec docker","comments":true,"title":"Créer son hacklab virtuel avec docker","permalink":"creer-hacklab-virtuel-docker","datePublished":"2017-12-18T08:00","dateUpdated":"2017-12-18T08:00","description":"Pour tester la sécurité de mes serveurs et sites internet, je me suis configuré un hacklab sous docker en tant qu'environnement de pentesting.","publish":true,"rss":true},"__N_SSG":true},"page":"/[[...permalink]]","query":{"permalink":["creer-hacklab-virtuel-docker"]},"buildId":"X5Y-k7feQsTfi0E8URMx9","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>